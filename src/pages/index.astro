---
import { Image } from "astro:assets";
import Layout from "../layouts/Layout.astro";
import Container from "../components/Container/Container.astro";
import ArticleItem from "../components/ArticleItem.astro";
import profileImg from "../images/IMG_3781.jpeg";

import { getCollection } from "astro:content";
import { sortedTimeDescending } from "@utils/postUtils.js";
let posts = await getCollection("posts");
let sortedPosts = sortedTimeDescending(posts);
---

<Layout>
  <Container class="mt-12 sm:mt-28">
    <header
      class="max-w-5xl grid grid-cols-1 gap-y-16 lg:gap-y-12 lg:grid-cols-2"
    >
      <div class="lg:pl-20">
        <div class="max-w-xs px-2.5 lg:max-w-sm">
          <Image
            src={profileImg}
            alt="George Rodier sitting on his front porch with his dog."
            class="aspect-square rotate-3 rounded-2xl bg-zinc-100 object-cover dark:bg-zinc-800"
          />
        </div>
      </div>
      <div class="lg:order-first flex flex-col justify-center">
        <h1
          class="text-4xl font-bold tracking-tight text-zinc-800 sm:text-5xl dark:text-zinc-100"
        >
          George Rodier
        </h1>
        <p class="mt-6 text-base text-zinc-600 dark:text-zinc-400">
          All of my long-form thoughts on programming, leadership, product
          design, and more, collected in chronological order.
        </p>
      </div>
    </header>
    <div class="mt-16 sm:mt-20">
      <div
        class="md:border-l md:border-zinc-100 md:pl-6 md:dark:border-zinc-700/40"
      >
        <div class="flex max-w-3xl flex-col space-y-16">
          {sortedPosts.map((article) => <ArticleItem article={article} />)}
        </div>
      </div>
    </div>
  </Container>
</Layout>
